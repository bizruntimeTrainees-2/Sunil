<!DOCTYPE html>
<html lang="en">
<head>
    <title>WebSocket</title>
</head>
<body>
    <script>
        let socket = new WebSocket("wss://javascript.info/article/websocket/demo/hello");

        socket.onopen= function(e){
            alert("[open] connection established");
            alert("Sending data to the server");
            socket.send("My name is sunil");
        };

        socket.onmessage= function(event){
            alert('[message] Data recieved from the server: ${event.data}');
        };
        socket.onclose= function(event){
            if(event.wasClean){
                alert('[close] Connection closed cleanly, code=${event.code} reason=${event.reason}');
            }else {
                //eg: server process killed or network down
                //event.close is usually 1006 in thi case
                alert('[close] Connection died');
            }
        };
        socket.onerror= function(error){
            alert('[error] ${error.message}');
        };
    </script>
</body>
</html>